# SpotMap Docker Environment Configuration
# ⚠️ CHANGE THESE VALUES IN PRODUCTION
# Copy this file to .env.docker and adjust values

# ================================================================
# Application Settings
# ================================================================
APP_ENV=development
DEBUG=true
LOG_LEVEL=DEBUG
TZ=Europe/Madrid

# ================================================================
# Server Configuration
# ================================================================
APP_PORT=8080
APP_HOST=0.0.0.0

# ================================================================
# Database Configuration (MySQL)
# ================================================================
DB_HOST=mysql
DB_PORT=3306
DB_DRIVER=mysql
DB_DATABASE=spotmap
DB_USERNAME=spotmap
DB_PASSWORD=spotmap123
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_unicode_ci
MYSQL_ROOT_PASSWORD=root123
MYSQL_PORT=3306

# ================================================================
# Database Configuration (PostgreSQL - Optional)
# ================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=spotmap
POSTGRES_USER=spotmap
POSTGRES_PASSWORD=spotmap123
POSTGRES_CHARSET=utf8

# ================================================================
# Cache Configuration (Redis)
# ================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_DATABASE=0
REDIS_TIMEOUT=5

# ================================================================
# Supabase Configuration (if using remote DB)
# ================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-key
SUPABASE_SERVICE_KEY=your-service-key
SUPABASE_DB_URL=postgresql://user:password@db.supabase.co:5432/postgres

# ================================================================
# Security Configuration
# ================================================================
ADMIN_API_TOKEN=dev_token_change_in_prod
APP_KEY=
APP_SECRET=

# CORS Settings
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW=60

# ================================================================
# Monitoring & Logging
# ================================================================
ALERT_EMAIL=admin@spotmap.local
ALERT_WEBHOOK_URL=
ALERT_THRESHOLD_ERROR_RATE=0.05

LOG_TO_DATABASE=false
LOG_TO_WEBHOOK=false

ERROR_TRACKING_SERVICE=
APP_DEBUG=true

# ================================================================
# File Upload Configuration
# ================================================================
UPLOAD_DIR=/app/public/uploads
UPLOAD_MAX_SIZE=20971520
UPLOAD_ALLOWED_TYPES=jpg,jpeg,png,gif,webp,pdf

# ================================================================
# Authentication Settings
# ================================================================
JWT_SECRET=your_jwt_secret_key_here_change_in_prod
JWT_ALGORITHM=HS256
JWT_EXPIRATION=86400

SESSION_DRIVER=files
SESSION_TIMEOUT=3600

# ================================================================
# Email Configuration (for alerts)
# ================================================================
MAIL_DRIVER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=465
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_FROM_ADDRESS=noreply@spotmap.local
MAIL_FROM_NAME="SpotMap"

# ================================================================
# External Services (Optional)
# ================================================================
SENTRY_DSN=
DATADOG_API_KEY=
GITHUB_TOKEN=
DOCKER_REGISTRY=docker.io

# ================================================================
# Docker-specific Settings
# ================================================================
COMPOSE_PROJECT_NAME=spotmap
COMPOSE_FILE=docker-compose.yml

# Health check settings
HEALTHCHECK_INTERVAL=30
HEALTHCHECK_TIMEOUT=10
HEALTHCHECK_RETRIES=3

# ================================================================
# Production Overrides (uncomment and modify for production)
# ================================================================
# APP_ENV=production
# DEBUG=false
# LOG_LEVEL=WARNING
# DB_PASSWORD=change_to_strong_password
# REDIS_PASSWORD=change_to_strong_password
# ADMIN_API_TOKEN=generate_strong_token
# JWT_SECRET=generate_strong_secret
# ALERT_EMAIL=your-email@example.com
